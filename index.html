<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>шизофрения</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map { height: 100vh; width: 100%; }

    /* оформление кнопки */
    .download-container {
      position: absolute;
      bottom: 10px;
      right: 10px;
      z-index: 1000;
    }

    .download-btn {
      display: inline-block;
      padding: 10px 15px;
      background: #00ccff;
      color: white;
      font-size: 14px;
      font-weight: bold;
      border-radius: 6px;
      text-decoration: none;
      transition: 0.3s;
    }

    .download-btn:hover {
      background: #0099cc;
    }
  </style>
</head>
<body>

<div id="map"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
  // Створюємо мапу з CRS Simple для піксельної карти
  let map = L.map('map', {
    crs: L.CRS.Simple,
    minZoom: -4,  // позволяет сильно отдалять карту
    maxZoom: 5    // позволяет приближать
  });

  // Визначаємо розміри карти в пікселях
  let mapBounds = [[0, 0], [10000, 15000]];

  // Встановлюємо початковий вид так, щоб вся карта була видна
  map.fitBounds(mapBounds);

  // Базовий шар
  let fictionCountries = L.imageOverlay('images/fiction_countries.png', mapBounds).addTo(map);

  // Інші шари
  let realWorld = L.imageOverlay('images/real_world.png', mapBounds, {opacity: 0.5});
  let countryNames = L.imageOverlay('images/country_names.png', mapBounds);
  let cityNames = L.imageOverlay('images/city_names.png', mapBounds);
  let infrastructure = L.imageOverlay('images/infrastructure.png', mapBounds);
  let divisions = L.imageOverlay('images/divisions.png', mapBounds);
  let layer13 = L.imageOverlay('images/layer13.png', mapBounds);
  let foto = L.imageOverlay('images/foto.png', mapBounds);

  // Контрол для вмикання/вимикання шарів
  let overlays = {
    "Реальний світ": realWorld,
    "Назви країн": countryNames,
    "Назви міст": cityNames,
    "Інфраструктура": infrastructure,
    "Дивізії": divisions,
    "Шар 13": layer13,
    "фото": foto
  };
  L.control.layers(null, overlays).addTo(map);

  // Обмеження перегляду карти рамками
  map.setMaxBounds(mapBounds);
</script>

<!-- кнопка скачивания -->
<div class="download-container">
  <a href="files/my_map.pdn" download class="download-btn">Скачать карту (.pdn)</a>
</div>

</body>
</html>
