<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>шизофрения</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Карта */
    #map { 
      height: 100vh; 
      width: 100%; 
    }

    /* Панель слоёв внизу справа */
    .layers-panel {
      position: fixed;
      bottom: 10px;
      right: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      background: rgba(255, 255, 255, 0.9);
      padding: 6px;
      border-radius: 6px;
      border: 1px solid #ccc;
      z-index: 1000;
    }

    .layer-btn {
      padding: 4px 8px;
      cursor: pointer;
      border: 1px solid #999;
      border-radius: 4px;
      background: #f0f0f0;
      transition: 0.2s;
    }

    .layer-btn:hover {
      background: #ddd;
    }

    .layer-btn.active {
      background: #bbb;
      font-weight: bold;
    }
  </style>
</head>
<body>

<div id="map" class="dark-theme"></div>

<!-- Панель слоёв -->
<div class="layers-panel" id="layers-panel">
  <!-- Кнопки слоёв будут добавляться через JS -->
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
  // Создание карты
  let map = L.map('map', { crs: L.CRS.Simple, minZoom: -4, maxZoom: 5 });
  let mapBounds = [[0, 0], [10000, 15000]];
  map.fitBounds(mapBounds);

  // Базовый слой
  let fictionCountries = L.imageOverlay('images/fiction_countries.png', mapBounds).addTo(map);

  // Остальные слои
  let realWorld = L.imageOverlay('images/real_world.png', mapBounds, {opacity: 0.5});
  let countryNames = L.imageOverlay('images/country_names.png', mapBounds);
  let cityNames = L.imageOverlay('images/city_names.png', mapBounds);
  let infrastructure = L.imageOverlay('images/infrastructure.png', mapBounds);
  let divisions = L.imageOverlay('images/divisions.png', mapBounds);
  let layer13 = L.imageOverlay('images/layer13.png', mapBounds);
  let foto = L.imageOverlay('images/foto.png', mapBounds);

  // Список слоёв
  let overlays = {
    "Реальний світ": realWorld,
    "Назви країн": countryNames,
    "Назви міст": cityNames,
    "Інфраструктура": infrastructure,
    "Дивізії": divisions,
    "Шар 13": layer13,
    "фото": foto
  };

  map.setMaxBounds(mapBounds);

  // Добавляем кнопки слоёв внизу справа
  const layersPanel = document.getElementById('layers-panel');

  Object.keys(overlays).forEach(name => {
    let btn = document.createElement('button');
    btn.className = 'layer-btn';
    btn.textContent = name;

    btn.addEventListener('click', () => {
      let layer = overlays[name];
      if(map.hasLayer(layer)){
        map.removeLayer(layer);
        btn.classList.remove('active');
      } else {
        map.addLayer(layer);
        btn.classList.add('active');
      }
    });

    layersPanel.appendChild(btn);
  });
</script>

</body>
</html>
